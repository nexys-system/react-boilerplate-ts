(this["webpackJsonpfrontend-boilerplate"]=this["webpackJsonpfrontend-boilerplate"]||[]).push([[0],{512:function(e,t,n){e.exports=n(801)},801:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),u=n(22),s=n.n(u),o=n(36),c=n(56),l=n(8),m=function(e){return"/app"+e},d=function(e){return"/admin"+e},p=function(e){return"/"+e},f={base:"/app",default:m("/"),dashboard:m("/dashboard"),profile:m("/profile")},g={base:"/admin",default:d("/"),dashboard:d("/dashboard"),profile:d("/profile"),user:d("/user")},b={base:"/admin",instance:d("/instance"),permission:d("/permission"),entity:d("/entity")},v={base:"/",login:p("login"),logout:p("logout"),forgotYourPassword:p("forgotten-password"),signUp:p("sign-up")},E=n(94),h=function(){return i.a.createElement("div",{className:"col s12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-content"},i.a.createElement(E.a,{variant:"h4"},"Page not found"),i.a.createElement("p",null,"Maybe the page you are looking for has been removed, or you typed in the wrong URL"))))},y=l.UI.Layout,x=function(){return i.a.createElement(y.Simple,{title:"Dashboard"},i.a.createElement(E.a,null,"You're ready to go"))},S=n(14),P=n.n(S),w=n(26),k=Object({NODE_ENV:"production",PUBLIC_URL:"/react-boilerplate-ts",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GIT_SHA:"0c822930a041b3e02c92891247a81acdb2073525"}).REACT_APP_APP_TITLE||"Awesome App",I="false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/react-boilerplate-ts",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GIT_SHA:"0c822930a041b3e02c92891247a81acdb2073525"}).REACT_APP_WITH_BACKEND,U=Object({NODE_ENV:"production",PUBLIC_URL:"/react-boilerplate-ts",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GIT_SHA:"0c822930a041b3e02c92891247a81acdb2073525"}).REACT_APP_GITHUB_REPO_URL,N=n(93);!function(e){e[e.active=1]="active",e[e.inactive=2]="inactive",e[e.pending=3]="pending"}(a||(a={}));var C=[{id:a.pending,name:"Pending"},{id:a.active,name:"Active"},{id:a.inactive,name:"Inactive"}],O=function(e){var t=C.filter((function(t){return t.id===e.status.id}))[0];return Object(N.a)(Object(N.a)({},e),{},{status:t,instance:{uuid:e.instance.uuid,name:""}})},_=[{uuid:"uuid1",firstName:"John",lastName:"Doe",email:"john.doe@emample.com",status:{id:2},instance:{uuid:"uuid1"}},{uuid:"uuid2",firstName:"Jane",lastName:"Doe",email:"jane.doe@emample.com",status:{id:1},instance:{uuid:"uuid1"}}],T=new l.Stateful.RequestUtil.Crud.withUuid("User"),A=l.Stateful.RequestUtil.Wrapper.RequestWrapper,j={status:{}},R=function(){var e=Object(w.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=3;break}return console.log("USER list"),e.abrupt("return",Promise.resolve(_.map((function(e){return O(e)}))));case 3:return e.next=5,A(T.list({projection:j}));case 5:return t=e.sent,e.abrupt("return",t.map((function(e){return O(e)})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(w.a)(P.a.mark((function e(t){var n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=3;break}return console.log("USER insert",t),e.abrupt("return",Promise.resolve({id:"uuid1"}));case 3:return n={firstName:t.firstName,lastName:t.lastName,email:t.email,status:{id:t.status.id},instance:{uuid:""}},e.next=6,A(T.insertByUuid(n));case 6:return a=e.sent,e.abrupt("return",{id:a.uuid});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(w.a)(P.a.mark((function e(t){var n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=4;break}return console.log("USER detail",t),n=_.find((function(e){return e.uuid===t})),e.abrupt("return",Promise.resolve(O(n||_[0])));case 4:return e.next=6,A(T.detail({uuid:String(t)}));case 6:return a=e.sent,e.abrupt("return",O(a));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){if(!I)return console.log("USER update",e),Promise.resolve(!0);var t={uuid:e.uuid,firstName:e.firstName,lastName:e.lastName,email:e.email};return A(T.updateByUuid(t))},W=function(e){return I?A(T.deleteByUuid(String(e))):(console.log("USER delete",e),Promise.resolve(!0))},q=function(){return Promise.resolve(C)},M=function(){var e=Object(w.a)(P.a.mark((function e(t,n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=3;break}return console.log("statusUpdate",t,n),e.abrupt("return",Promise.resolve(!0));case 3:return a={uuid:t,status:{id:n}},e.abrupt("return",A(T.updateByUuid(a)));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H={firstName:"John",lastName:"Doe",email:"john.doe@example.com",uuid:"myuid"},J=l.Stateful.RequestUtil.Wrapper.RequestWrapper,K=function(){var e=Object(w.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return",new Promise((function(e){return e(H)})));case 2:return e.abrupt("return",J(l.Stateful.Request.get("/profile")));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(w.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=3;break}return console.log("profile update",t),e.abrupt("return",Promise.resolve(!0));case 3:return e.abrupt("return",D(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e,t){return I?J(l.Stateful.Request.post("/profile/password/change",{old:e,password:t})):(console.log("password update",e,t),Promise.resolve(!0))},G=function(e){var t=e.data;return i.a.createElement(l.SimpleUI.ProfilePage,{data:t,updateProfilePromise:F,updatePasswordPromise:Y})},z=function(){return i.a.createElement(l.Data.Load.WithLoader,{dataLoad:K(),Component:G})},Z=n(827),V="0c822930a041b3e02c92891247a81acdb2073525",$=function(){return i.a.createElement(l.UI.Nav.Footer.Footer,null,i.a.createElement(l.UI.Nav.Footer.Copyright,{sha:{sha:V,link:(e=V,"".concat(U,"/commit/").concat(e))},company:k}));var e},Q=n(239),X=n.n(Q),ee=n(240),te=n.n(ee),ne=n(241),ae=n.n(ne),re=l.UI.Nav.Top,ie=l.Utils.makeStyles((function(e){return{appBar:{backgroundColor:e.palette.background.paper}}})),ue=function(){var e=X()(),t=ie(),n=[{link:f.profile,Icon:te.a},{link:v.logout,Icon:ae.a}];return i.a.createElement(re,{title:k,menus:n,className:t.appBar,isOpen:!0,textColor:e.palette.primary.main})},se=n(302),oe=n.n(se),ce=l.Utils.makeStyles((function(e){return{drawer:{backgroundColor:e.palette.primary.main,paddingTop:e.spacing(8)},menuItem:{color:"".concat(e.palette.primary.contrastText," !important")},label:{color:"white"}}})),le=l.UI.Nav.Left,me=le.Drawer,de=le.Menu,pe=le.Divider,fe=function(e){var t=e.children,n=ce();return i.a.createElement("span",{className:n.label},t)},ge=[{link:f.dashboard,label:i.a.createElement(fe,null,"Dashboard"),Icon:oe.a,permission:"app"}],be=function(){var e=ce(),t=l.Stateful.Credentials.getPermissions().sort((function(e,t){return e<t?-1:e>t?1:0}))||[];return i.a.createElement(me,{isOpen:!0,onClose:function(){},classNames:{paper:e.drawer},hideToggleButton:!0},i.a.createElement(pe,null),i.a.createElement(de,{list:ge.filter((function(e){return t.includes(e.permission)})),classNames:{icon:e.menuItem,item:e.menuItem}}))},ve=l.Utils.makeStyles((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1},main:{height:"100%",overflow:"auto"},container:{minHeight:"calc(100vh - 64px - 72px)",paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}));var Ee=function(e){var t=ve(),n=e.children;return i.a.createElement("div",{className:t.root},i.a.createElement(ue,null),i.a.createElement(be,null),i.a.createElement("div",{className:t.content},i.a.createElement("main",{className:t.main},i.a.createElement("div",{className:t.appBarSpacer}),i.a.createElement(Z.a,{maxWidth:"lg",className:t.container},n),i.a.createElement($,null))))},he=l.Stateful.Auth.Wrapper,ye=l.Stateful.Conf.REDIRECT_URI;var xe=Object(o.o)(he((function(e){return l.Utils.useIdleTimer((function(){l.Stateful.Store.set("sessionExpired",!0),l.Stateful.Store.set(ye,e.location.pathname),window.location.pathname=v.logout}),60),i.a.createElement(Ee,null,i.a.createElement(o.g,null,i.a.createElement(o.d,{path:f.dashboard,component:x}),i.a.createElement(o.d,{path:f.profile,component:z}),i.a.createElement(o.d,{path:"".concat(f.base,"/")},i.a.createElement(o.c,{to:f.dashboard})),i.a.createElement(o.d,{path:f.base,component:h})))}),"app")),Se=l.UI.Layout,Pe=function(){return i.a.createElement(Se.Simple,{title:"Dashboard"},i.a.createElement(E.a,null,"You're ready to go"))},we=new l.Stateful.RequestUtil.Crud.CrudRequest("UserPermission"),ke=new l.Stateful.RequestUtil.Crud.CrudRequest("PermissionInstance"),Ie=function(){var e=Object(w.a)(P.a.mark((function e(t){var n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return",Promise.resolve([{id:"uuid1",name:"app",assigned:"uuid1"},{id:"uuid2",name:"admin",assigned:"uuid2"},{id:"uuid3",name:"superadmin",assigned:"uuid2"}]));case 2:return n={Permission:{projection:{},references:{PermissionInstance:{projection:{uuid:!0,instance:{uuid:!0}},filters:{instance:{uuid:""}},references:{UserPermission:{projection:{uuid:!0},filters:{user:{uuid:t}}}}}},order:{by:"name"}}},e.next=5,l.Stateful.Request.post("/crud/query",n);case 5:return a=e.sent,e.abrupt("return",a.Permission.filter((function(e){return e.PermissionInstance&&""===e.PermissionInstance[0].instance.uuid})).map((function(e){var t=e.PermissionInstance&&e.PermissionInstance.length&&e.PermissionInstance[0].UserPermission&&e.PermissionInstance[0].UserPermission.length?e.PermissionInstance[0].UserPermission[0].uuid:void 0;return{id:e.uuid,name:e.name,assigned:t}})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(w.a)(P.a.mark((function e(t,n){var a,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return",Promise.resolve(!0));case 2:return e.next=4,ke.detail({permission:{uuid:n},instance:{uuid:""}});case 4:return a=e.sent,r={permissionInstance:{uuid:a.uuid},user:{uuid:t}},e.abrupt("return",we.insert(r).then((function(e){return!0})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(w.a)(P.a.mark((function e(t,n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return",Promise.resolve(!0));case 2:return e.next=4,ke.detail({permission:{uuid:n},instance:{uuid:""}});case 4:return a=e.sent,e.abrupt("return",we.delete({user:{uuid:t},permissionInstance:{uuid:a.uuid}}).then((function(e){return!1})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(w.a)(P.a.mark((function e(t,n,a){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return",Promise.resolve(a));case 2:if(!a){e.next=4;break}return e.abrupt("return",Ne(String(t),n));case 4:return e.abrupt("return",Ue(String(t),n));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Oe=l.UI.Layout,_e={list:function(e){return Ie(e)},toggle:function(e,t,n){return Ce(e,t,n)}},Te={list:R,detail:L,insert:B,update:D,deleteById:W},Ae=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(o.d,{exact:!0,path:g.user},i.a.createElement(Oe.Title,{title:"Users",type:"pageTitle"})),i.a.createElement(l.BusinessModule.User.Crud,{dataInterface:Te,urlPrefix:g.user,extra:[{title:"Status",Component:function(e,t){return i.a.createElement(l.BusinessModule.User.Status,{user:t,pList:q(),update:M})}},{title:"Permissions",tab:"access-control",width:{xs:12,sm:6,md:6,lg:6},Component:function(e){return i.a.createElement(l.BusinessModule.User.Permissions,{permissionInterface:_e,uuid:String(e)})}}]}))},je=[{uuid:"uuid1",name:"app"},{uuid:"uuid2",name:"admin"}],Re=[{uuid:"uuid1",name:"App",PermissionInstance:[{uuid:"uuid1"}]}],Be=new l.Stateful.RequestUtil.Crud.CrudRequest("Permission"),Le={list:function(){var e=Object(w.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return",Promise.resolve(je));case 2:return e.abrupt("return",Be.list({projection:{},order:{by:"name"}}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),detail:function(){var e=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=3;break}return n=je.find((function(e){return e.uuid===t})),e.abrupt("return",Promise.resolve(n||je[0]));case 3:return e.abrupt("return",Be.detail({uuid:String(t)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),insert:function(){var e=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return",Promise.resolve({id:1}));case 2:return e.next=4,Be.insert(t);case 4:return n=e.sent,e.abrupt("return",{id:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(e){if(!I)return Promise.resolve(!0);if(!e.uuid)throw Error("no uuid");return Be.update(e,{uuid:e.uuid})},deleteById:function(){var e=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return",Promise.resolve(!0));case 2:return e.next=4,Be.delete({uuid:String(t)});case 4:return n=e.sent,e.abrupt("return",n>0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},De=function(){var e=b.permission;return i.a.createElement(l.BusinessModule.Permission.Crud,{dataInterface:Le,urlPrefix:e})},We=n(238),qe=function(e){return Object(N.a)(Object(N.a)({},e),{},{dateAdded:new Date(e.dateAdded)})},Me=[{uuid:"uuid1",name:"Instance #1",dateAdded:new Date("2021-01-10T13:45:00Z")},{uuid:"uuid2",name:"Instance #2",dateAdded:new Date("2021-02-01T10:45:00Z")}],He=new l.Stateful.RequestUtil.Crud.withUuid("Instance"),Je=l.Stateful.RequestUtil.Wrapper.RequestWrapper,Ke=function(){var e=Object(w.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return",Promise.resolve(Me.map((function(e){return qe(e)}))));case 2:return e.next=4,Je(He.list({projection:{}}));case 4:return t=e.sent,e.abrupt("return",t.map((function(e){return qe(e)})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(w.a)(P.a.mark((function e(t){var n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return",Promise.resolve({id:"uuid1"}));case 2:return n={name:t.name,dateAdded:new Date},e.next=5,Je(He.insertByUuid(n));case 5:return a=e.sent,e.abrupt("return",{id:a.uuid});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(w.a)(P.a.mark((function e(t){var n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=3;break}return n=Me.find((function(e){return e.uuid===t})),e.abrupt("return",Promise.resolve(qe(n||Me[0])));case 3:return e.next=5,Je(He.detail({uuid:String(t)}));case 5:return a=e.sent,e.abrupt("return",qe(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(e){return{id:e.uuid,name:e.name,assigned:e.PermissionInstance&&e.PermissionInstance[0].uuid}},ze=new l.Stateful.RequestUtil.Crud.CrudRequest("PermissionInstance"),Ze=new l.Stateful.RequestUtil.Crud.CrudRequest("Permission"),Ve=function(){var e=Object(w.a)(P.a.mark((function e(t){var n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return",Promise.resolve(Re.map((function(e){return Ge(e)}))));case 2:return n={projection:{},references:{PermissionInstance:{filters:{instance:{uuid:t}}}}},e.next=5,Ze.list(n);case 5:return a=e.sent,e.abrupt("return",a.map((function(e){return Ge(e)})).sort((function(e,t){return e.name>t.name?1:-1})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=Object(w.a)(P.a.mark((function e(t,n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={permission:{uuid:n},instance:{uuid:t}},e.abrupt("return",ze.insert(a).then((function(e){return!0})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(w.a)(P.a.mark((function e(t,n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={permission:{uuid:n},instance:{uuid:t}},e.abrupt("return",ze.delete(a).then((function(e){return!1})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(w.a)(P.a.mark((function e(t,n,a){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return",Qe(t,n));case 2:return e.abrupt("return",$e(t,n));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),et=(n(51),{list:R,detail:L,insert:B,update:D,deleteById:W}),tt={list:Ie,toggle:Ce},nt=q(),at=M,rt={list:function(){return Promise.resolve([])},detail:function(e){return Promise.resolve({})},insert:function(e){return Promise.resolve({id:1})},update:function(e){return Promise.resolve(!0)},deleteById:function(e){return Promise.resolve(!0)}},it=[{title:"Status",Component:function(e,t){return i.a.createElement(l.BusinessModule.User.Status,{user:t,pList:nt,update:at})}},{title:"Authentication Methods",Component:function(e){return i.a.createElement(l.BusinessModule.User.Authentications,{dataInterface:rt,urlPrefix:"/ux/user/".concat(e,"/detail")})}},{title:"Access Control",tab:"Access-Control",width:{xs:12,sm:12,md:12,lg:12},Component:function(e){return i.a.createElement(l.BusinessModule.User.Permissions,{uuid:String(e),permissionInterface:tt})}}],ut=function(e){var t=e.uuid;return i.a.createElement(l.BusinessModule.User.Crud,{urlPrefix:"".concat(b.instance,"/").concat(t,"/Users"),dataInterface:et,extra:it})},st={list:Ke,detail:Ye,insert:Fe,update:function(e){if(!I)return Promise.resolve(!0);var t={uuid:e.uuid,name:e.name,dateAdded:e.dateAdded};return Je(He.updateByUuid(t))},deleteById:function(e){return Promise.resolve(!0)}},ot=function(e){return{list:function(){return Ve(e)},toggle:Xe}},ct=[{tab:"Users",width:{xs:12,sm:12,md:12,lg:12},Component:function(e){return i.a.createElement(ut,{uuid:String(e)})},paper:!1},{tab:"Permissions",title:"Permissions associated with Instance",width:{xs:12,sm:12,md:12,lg:12},Component:function(e){return i.a.createElement(We.Permissions,{uuid:String(e),permissionInterface:ot(String(e))})}}],lt=function(){return i.a.createElement(We.Crud,{urlPrefix:b.instance,dataInterface:st,extra:ct})},mt=n(303),dt=n.n(mt),pt=[{name:"UserPermission",table:"user_permission",uuid:!0,fields:[{type:"PermissionInstance",name:"permissionInstance",column:"permission_instance_id",optional:!1},{type:"User",name:"user",column:"user_id",optional:!1}]},{name:"UserAuthenticationType",table:"user_authentication_type",uuid:!1,fields:[{type:"String",name:"name",optional:!1}]},{name:"UserStatus",table:"user_status",uuid:!1,fields:[{type:"String",name:"name",optional:!1}]},{name:"UserAuthentication",table:"user_authentication",uuid:!0,fields:[{type:"String",name:"value",optional:!1},{type:"Boolean",name:"isEnabled",optional:!1},{type:"UserAuthenticationType",name:"type",column:"type_id",optional:!1},{type:"User",name:"user",column:"user_id",optional:!1}]},{name:"PermissionInstance",table:"permission_instance",uuid:!0,fields:[{type:"Instance",name:"instance",column:"instance_id",optional:!1},{type:"Permission",name:"permission",column:"permission_id",optional:!1}]},{name:"Permission",table:"permission",uuid:!0,fields:[{type:"String",name:"name",optional:!1}]},{name:"User",table:"user",uuid:!0,fields:[{type:"String",name:"firstName",optional:!1},{type:"String",name:"lastName",optional:!1},{type:"String",name:"email",optional:!1},{type:"UserStatus",name:"status",column:"status_id",optional:!1},{type:"LocalDateTime",name:"logDateAdded",optional:!1},{type:"Instance",name:"instance",column:"instance_id",optional:!1},{type:"String",name:"lang",optional:!1}]},{name:"Instance",table:"instance",uuid:!0,fields:[{type:"String",name:"name",optional:!1},{type:"LocalDateTime",name:"dateAdded",optional:!1}]}],ft={Instance:{list:[{uuid:"uuid1",name:"Mock Instance #1",dateAdded:"2021-01-02T14:15:00Z"},{uuid:"uuid2",name:"Mock Instance #2",dateAdded:"2021-01-05T16:22:00Z"}]},User:{list:[{uuid:"user-uuid-1",firstName:"John",lastName:"Doe",email:"john.doe@example.com",status:{id:1},instance:{uuid:"uuid1"},lang:"en"},{uuid:"user-uuid-2",firstName:"Jane",lastName:"Doe",email:"jane.doe@example.com",status:{id:2},instance:{uuid:"uuid1"},lang:"en"}]},Permission:{list:[{uuid:"permission-uuid-1",name:"app"},{uuid:"permission-uuid-2",name:"admin"},{uuid:"permission-uuid-3",name:"superadmin"}]},PermissionInstance:{list:[{uuid:"permission-instance-uuid-1",instance:{uuid:"uuid1"},permission:{uuid:"permission-uuid-1"}},{uuid:"permission-instance-uuid-2",instance:{uuid:"uuid1"},permission:{uuid:"permission-uuid-2"}},{uuid:"permission-instance-uuid-3",instance:{uuid:"uuid1"},permission:{uuid:"permission-uuid-3"}}]}},gt=function(){return i.a.createElement(dt.a,{entities:pt,urlPrefix:b.entity,withBackend:I,mockData:ft})},bt=n(414),vt=l.UI.Nav.Top,Et=l.Utils.makeStyles((function(e){return{appBar:{backgroundColor:e.palette.background.paper}}})),ht=function(){var e=X()(),t=Et(),n=[{link:g.profile,Icon:te.a},{link:v.logout,Icon:ae.a}];return i.a.createElement(vt,{title:k,menus:n,className:t.appBar,isOpen:!0,textColor:e.palette.primary.main})},yt=n(436),xt=n(435),St=n(438),Pt=n(437),wt=n(434),kt=yt.a,It=l.Utils.makeStyles((function(e){return{drawer:{backgroundColor:e.palette.primary.main,paddingTop:e.spacing(8)},menuItem:{color:"".concat(e.palette.primary.contrastText," !important")},label:{color:"white"}}})),Ut=l.UI.Nav.Left,Nt=Ut.Drawer,Ct=Ut.Menu,Ot=Ut.Divider,_t=function(e){var t=e.children,n=It();return i.a.createElement("span",{className:n.label},t)},Tt=[{link:g.dashboard,label:i.a.createElement(_t,null,"Dashboard"),Icon:xt.a,permission:"admin"},{link:g.user,label:i.a.createElement(_t,null,"Users"),Icon:kt,permission:"admin"}],At=[{link:b.permission,label:i.a.createElement(_t,null,"Permissions"),Icon:St.a,permission:"superadmin"},{link:b.instance,label:i.a.createElement(_t,null,"Instance"),Icon:Pt.a,permission:"superadmin"},{link:b.entity,label:i.a.createElement(_t,null,"Entities"),Icon:wt.a,permission:"superadmin"}],jt=function(){var e=It(),t=l.Stateful.Credentials.getPermissions().sort((function(e,t){return e<t?-1:e>t?1:0}))||[];return i.a.createElement(Nt,{isOpen:!0,onClose:function(){},classNames:{paper:e.drawer},hideToggleButton:!0},i.a.createElement(Ot,null),i.a.createElement(Ct,{list:Tt.filter((function(e){return t.includes(e.permission)})),classNames:{icon:e.menuItem,item:e.menuItem}}),i.a.createElement(Ot,null),i.a.createElement(Ct,{list:At.filter((function(e){return t.includes(e.permission)})),classNames:{icon:e.menuItem,item:e.menuItem}}))},Rt=l.Utils.makeStyles((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1},main:{height:"100%",overflow:"auto"},container:{minHeight:"calc(100vh - 64px - 72px)",paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}));var Bt=function(e){var t=Rt(),n=e.children;return i.a.createElement("div",{className:t.root},i.a.createElement(bt.a,null),i.a.createElement(ht,null),i.a.createElement(jt,null),i.a.createElement("div",{className:t.content},i.a.createElement("main",{className:t.main},i.a.createElement("div",{className:t.appBarSpacer}),i.a.createElement(Z.a,{maxWidth:"lg",className:t.container},n),i.a.createElement($,null))))},Lt=l.Stateful.Auth.Wrapper,Dt=l.Stateful.Conf.REDIRECT_URI;var Wt=Object(o.o)(Lt((function(e){return l.Utils.useIdleTimer((function(){l.Stateful.Store.set("sessionExpired",!0),l.Stateful.Store.set(Dt,e.location.pathname),window.location.pathname=v.logout}),60),i.a.createElement(Bt,null,i.a.createElement(o.g,null,i.a.createElement(o.d,{path:g.dashboard,component:Pe,props:e}),i.a.createElement(o.d,{path:g.user,component:Ae,props:e}),i.a.createElement(o.d,{path:b.permission,component:De,props:e}),i.a.createElement(o.d,{path:b.instance,component:lt,props:e}),i.a.createElement(o.d,{path:g.profile,component:z}),i.a.createElement(o.d,{path:b.entity,component:gt}),i.a.createElement(o.d,{path:"".concat(g.base,"/")},i.a.createElement(o.c,{to:g.dashboard})),i.a.createElement(o.d,{path:g.base,component:h})))}),"admin")),qt=n(828),Mt={id:"42010aac0033",uuid:"42010aac0033",firstName:"John",lastName:"Doe",email:"john.doe@example.com",lang:"en",instance:{uuid:"11eb-9846",name:"Mock Instance"}},Ht="en",Jt=["app","admin","superadmin"],Kt=function(){var e=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=3;break}return l.Stateful.Credentials.set(Mt,Jt,Ht),e.abrupt("return",Promise.resolve(!0));case 3:return e.next=5,l.Stateful.Request.post("/login",t);case 5:return n=e.sent,l.Stateful.Credentials.set(n.profile,n.permissions,n.locale.name),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ft=n(309),Yt=n(79);function Gt(){var e=Object(Ft.a)(["\n  background-color: rgba(256, 256, 256);\n  text-align: 'center';\n"]);return Gt=function(){return e},e}function zt(){var e=Object(Ft.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: flex-start;\n  background-color: white;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);\n  border-radius: 7px;\n  margin-bottom: 30px;\n  padding: 24px;\n"]);return zt=function(){return e},e}var Zt=Yt.default.div(zt()),Vt=Yt.default.p(Gt()),$t=l.Stateful.Store,Qt=function(e){var t=e.name,n=e.children;return!0!==$t.get(t)?null:($t.remove(t),console.log(t),i.a.createElement(Zt,null,i.a.createElement(Vt,{role:"alert"},n)))},Xt=n(299),en=n(301),tn=n(421),nn=n(423),an=n(167),rn=n.n(an),un=l.Utils.makeStyles((function(e){return{container:{marginTop:e.spacing(-3)},contentContainer:{backgroundColor:e.palette.background.paper,padding:e.spacing(4),width:"60%"},title:{color:e.palette.secondary.main,fontSize:e.typography.h5.fontSize,marginBottom:e.spacing(2),paddingLeft:e.spacing(2)},titleContainer:{textAlign:"center"},icon:{color:e.palette.success.main},divider:{margin:e.spacing(4,"auto"),maxWidth:"90%"},linkContainer:{textAlign:"center"},link:{color:e.palette.secondary.main}}})),sn=l.UI.Link,on=function(){var e=un();return i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.contentContainer},i.a.createElement("div",{className:e.titleContainer},i.a.createElement(E.a,{component:"h2",className:e.title},"Join the community")),["Lorem ipsum dolor sit amet","Nulla orci urna, feugiat convallis iaculis non","Maecenas sagittis blandit ex, sed condimentum"].map((function(t,n){return i.a.createElement(Xt.a,{key:"benefit-".concat(n)},i.a.createElement(en.a,null,i.a.createElement(tn.a,null,i.a.createElement(rn.a,{className:e.icon})),i.a.createElement(nn.a,null,t)))})),i.a.createElement(qt.a,{className:e.divider}),i.a.createElement("div",{className:e.linkContainer},i.a.createElement(E.a,null,"Don't have an account yet?"," ",i.a.createElement(sn,{to:v.signUp,className:e.link},"Sign up now")))))},cn=l.Utils.makeStyles((function(e){return{container:{maxWidth:"400px",margin:"0 auto"},divider:{margin:e.spacing(4,0)},linkContainer:{textAlign:"center"}}})),ln=l.UI.Layout,mn=l.UI.Link,dn=function(){var e=cn(),t=Object(o.k)();return i.a.createElement(ln.Login,{title:"Login to ".concat(k),layout:"left",otherContent:i.a.createElement(on,null)},i.a.createElement("div",{className:e.container},i.a.createElement(Qt,{name:"notifLogout"},"You were successfully logged out."),i.a.createElement(Qt,{name:"sessionExpired"},"Your session expired. Please login again to continue where you left off."),i.a.createElement(l.SimpleUI.FormSimple,{data:{email:"",password:""},fields:[{label:"Email Address",name:"email",type:"string"},{label:"Password",name:"password",type:"string",ux:"password"}],promise:function(e){return Kt(e).then((function(e){t.push(f.dashboard)}))},submitLabel:"Login",message:{success:"Logged in successfully",error:"Error while trying to login"}}),i.a.createElement(qt.a,{className:e.divider}),i.a.createElement("div",{className:e.linkContainer},i.a.createElement(mn,{to:v.forgotYourPassword},"Forgot Your Password?"))))},pn=l.Stateful.Credentials,fn=l.Stateful.Store,gn=function(){return Object(r.useEffect)((function(){I?l.Stateful.Request.get("/login/logout"):Promise.resolve(!0),pn.remove(),fn.get("sessionExpired")||fn.set("notifLogout",!0)}),[]),i.a.createElement(o.c,{to:v.base})},bn=n(504),vn=l.Utils.makeStyles((function(e){return{container:{marginTop:e.spacing(-3)},contentContainer:{backgroundColor:e.palette.background.paper,padding:e.spacing(4),width:"60%"},title:{color:e.palette.secondary.main,fontSize:e.typography.h5.fontSize,marginBottom:e.spacing(2),paddingLeft:e.spacing(2)},titleContainer:{textAlign:"center"},icon:{color:e.palette.success.main},divider:{margin:e.spacing(4,"auto"),maxWidth:"90%"},linkContainer:{textAlign:"center"},link:{color:e.palette.secondary.main}}})),En=l.UI.Link,hn=function(){var e=vn();return i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.contentContainer},i.a.createElement("div",{className:e.titleContainer},i.a.createElement(E.a,{component:"h2",className:e.title},"Join the Community")),["Lorem ipsum dolor sit amet","Nulla orci urna, feugiat convallis iaculis non","Maecenas sagittis blandit ex, sed condimentum"].map((function(t,n){return i.a.createElement(Xt.a,{key:"benefit-".concat(n)},i.a.createElement(en.a,null,i.a.createElement(tn.a,null,i.a.createElement(rn.a,{className:e.icon})),i.a.createElement(nn.a,null,t)))})),i.a.createElement(qt.a,{className:e.divider}),i.a.createElement("div",{className:e.linkContainer},i.a.createElement(E.a,null,"Already have an account?"," ",i.a.createElement(En,{to:v.login,className:e.link},"Login")))))},yn=l.Utils.makeStyles((function(e){return{container:{maxWidth:"400px",margin:"0 auto"},message:{textAlign:"center"},link:{color:e.palette.secondary.main},intro:{marginTop:e.spacing(-2),textAlign:"center","& strong":{color:e.palette.secondary.main}},linkContainer:{textAlign:"center"},divider:{margin:e.spacing(4,0)}}})),xn=l.UI.Layout,Sn=l.UI.Link,Pn=function(){var e=Object(r.useState)("default"),t=Object(bn.a)(e,2),n=t[0],a=t[1],u=yn();return i.a.createElement(xn.Login,{title:"Create Your Account",layout:"left",otherContent:i.a.createElement(hn,null)},i.a.createElement("div",{className:u.container},"signUp"===n?i.a.createElement(E.a,{className:u.message},"You signed up successfully."," ",i.a.createElement(Sn,{to:v.login,className:u.link},"Login here")):i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{className:u.intro},"to join ",i.a.createElement("strong",null,k)),i.a.createElement(l.SimpleUI.FormSimple,{data:{firstName:"",lastName:"",email:"",password:""},fields:[{label:"First Name",name:"firstName",type:"string"},{label:"Last Name",name:"lastName",type:"string"},{label:"Email Address",name:"email",type:"string"},{label:"Password",name:"password",type:"string",ux:"password"}],promise:function(e){return function(e){return I?l.Stateful.Request.post("/login/signup",e):Promise.resolve(!0)}(e).then((function(e){return a("signUp"),!0}))},submitLabel:"Sign Up",message:{success:"Signed up successfully",error:"Error while trying to sign up"}}),i.a.createElement(qt.a,{className:u.divider}),i.a.createElement("div",{className:u.linkContainer},i.a.createElement(Sn,{to:v.login},"Back to Login")))))};var wn=Object(o.o)((function(e){return i.a.createElement(o.g,null,i.a.createElement(o.d,{path:v.login,component:dn,props:e}),i.a.createElement(o.d,{path:v.logout,component:gn,props:e}),i.a.createElement(o.d,{path:v.signUp,component:Pn,props:e}),i.a.createElement(o.d,{path:v.base},i.a.createElement(o.c,{to:v.login})))})),kn=c.a({basename:"/react-boilerplate-ts"}),In=Object(o.o)((function(e){return i.a.createElement(l.SnackbarProvider,{maxSnack:3},i.a.createElement(o.g,null,i.a.createElement(o.d,{path:f.base,component:xe,props:e}),i.a.createElement(o.d,{path:g.base,component:Wt,props:e}),i.a.createElement(o.d,{path:v.base,component:wn,props:e})))})),Un=function(){return i.a.createElement(o.e,{history:kn},i.a.createElement(In,null))},Nn=n(215),Cn=n.n(Nn)()({palette:{type:"light",primary:{main:"#5691ff"},secondary:{main:"#ff5691"},background:{default:"#f5f5f5"},success:{main:"#91ff56"}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(l.ThemeProvider,{theme:Cn,withCssBaseline:!0},i.a.createElement(Un,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[512,1,2]]]);
//# sourceMappingURL=main.3c297599.chunk.js.map